window.__require=function t(e,o,n){function r(c,a){if(!o[c]){if(!e[c]){var p=c.split("/");if(p=p[p.length-1],!e[p]){var s="function"==typeof __require&&__require;if(!a&&s)return s(p,!0);if(i)return i(p,!0);throw new Error("Cannot find module '"+c+"'")}c=p}var l=o[c]={exports:{}};e[c][0].call(l.exports,function(t){return r(e[c][1][t]||t)},l,l.exports,t,e,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({ArmAndHand:[function(t,e,o){"use strict";cc._RF.push(e,"49a67tfQU9Ke5YRX6+/ESaH","ArmAndHand");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/CollisComp"),a=t("../../../Script/GameSpecial/GameOwn"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.partType=a.default.CollisPart.armAndHand,e}return r(e,t),e.prototype.init=function(){},e.prototype.setData=function(e){t.prototype.setData.call(this,e),e.type&&this.setgroup(e.type)},e.prototype.reset=function(){this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0)},i([s],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/CollisComp":void 0,"../../../Script/GameSpecial/GameOwn":void 0}],Body:[function(t,e,o){"use strict";cc._RF.push(e,"ddec4QuE7JEF5loYY7kLl1R","Body");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/Common/Action3dManager"),a=t("../../../Script/GameSpecial/CollisComp"),p=t("../../../Script/GameSpecial/GameOwn"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.partType=p.default.CollisPart.body,e.rigbody=null,e.jumping=!1,e.jumpCD=!0,e.terrainS=[],e.jumpH=20,e.speedY=0,e.beInjuredYN=!1,e.invincibleTime=1,e}return r(e,t),e.prototype.init=function(){this.rigbody=this.node.getComponent(cc.RigidBody),this.initSpeedY(),this.updateTS()},e.prototype.setData=function(e){t.prototype.setData.call(this,e),e.type&&this.setgroup(e.type)},e.prototype.reset=function(){var t=this.node.getComponents(cc.RigidBody);if(t)for(var e=0;e<t.length;e++)t[e].linearVelocity=cc.v2(0,0);this.node.setPosition(cc.v2(0,0))},e.prototype.onBeginContact=function(t,e,o){var n=o.node.getComponent(a.default);n.type==p.default.CollisType.terrain?this.addTSandUpdate(o.uuid):n.partType==p.default.CollisPart.weapom&&(n.isCrit?this.beInjured(n.hurt,!0):this.beInjured(n.hurt,!1))},e.prototype.onEndContact=function(t,e,o){o.node.getComponent(a.default).type==p.default.CollisType.terrain&&this.subTSandUpdate(o.uuid)},e.prototype.setLineVec=function(t){var e=this;!this.jumping&&this.jumpCD&&(this.jumpCD=!1,setTimeout(function(){e.jumpCD=!0},500),this.rigbody.linearVelocity=cc.v2(400*t,this.speedY))},e.prototype.setStatic=function(){this.rigbody.type=cc.RigidBodyType.Static},e.prototype.setDynamic=function(){this.rigbody.type=cc.RigidBodyType.Dynamic},e.prototype.addTSandUpdate=function(t){this.terrainS.indexOf(t)<0&&this.terrainS.push(t),this.updateTS()},e.prototype.subTSandUpdate=function(t){var e=this.terrainS.indexOf(t);e>=0&&this.terrainS.splice(e,1),this.updateTS()},e.prototype.updateTS=function(){0==this.terrainS.length?this.jumping=!0:this.jumping=!1},e.prototype.initSpeedY=function(){this.jumpH<0&&(this.jumpH=-this.jumpH),this.speedY=320*this.rigbody.gravityScale*Math.sqrt(2*this.jumpH/320)},e.prototype.beInjured=function(t,e){e&&(t*=1.3),this.beInjuredYN||(this.beInjuredYN=!0,this.invincibleTime=.7,this.beInjuredAnima(),this.emit(p.default.Events.beInjured,{type:this.type,hurt:t,isCrit:e}))},e.prototype.update=function(t){this.beInjuredYN&&(this.invincibleTime-=t,this.invincibleTime<=0&&(this.beInjuredYN=!1))},e.prototype.beInjuredAnima=function(){this.node.opacity=255;var t=c.default.fadeTo(.5,0),e=c.default.fadeTo(.2,255),o=c.default.sequence(t,e);c.default.getMng(c.ActionMngType.Level).runAction(this.node,o)},i([l],e)}(a.default));o.default=u,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/GameSpecial/CollisComp":void 0,"../../../Script/GameSpecial/GameOwn":void 0}],Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"a486ef3Gd1IgLIfr9WSWAd+","Bullet");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Script/Common/GlobalPool"),a=t("../../Script/GameSpecial/CollisComp"),p=t("../../Script/GameSpecial/GameEventType"),s=t("../../Script/GameSpecial/GameOwn"),l=t("../../Script/GameSpecial/GlobalEnum"),u=cc._decorator,f=u.ccclass,h=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.partType=s.default.CollisPart.weapom,e.rigbody=null,e.hurt=0,e.isCrit=!1,e.bullet=null,e.anima=null,e}return r(e,t),e.prototype.init=function(t){this.rigbody=this.node.getComponent(cc.RigidBody),this.setData(t),this.initBullet()},e.prototype.reuse=function(t){this.rigbody=this.node.getComponent(cc.RigidBody),this.setData(t),this.initBullet()},e.prototype.unuse=function(){this.stopAnima(),this.hurt=0,this.node.angle=0},e.prototype.setData=function(t){var e=this;this.emit(p.EventType.AudioEvent.playEffect,l.GlobalEnum.AudioClip.shot),t.hurt&&(this.hurt=t.hurt),t.type&&(this.type=t.type,this.setgroup(this.type)),setTimeout(function(){e.node&&c.default.put(e.node)},5e3)},e.prototype.onBeginContact=function(t,e,o){var n=o.node.getComponent(a.default);n.type!=s.default.CollisType.player&&n.type!=s.default.CollisType.foe||n.type!=this.type&&this.playAnima()},e.prototype.setLineVec=function(){},e.prototype.bulletOver=function(){this.node&&c.default.put(this.node)},e.prototype.initBullet=function(){this.bullet.active=!0,this.anima.node.active=!1,this.stopAnima()},e.prototype.playAnima=function(){this.bullet.active=!1,this.anima.play()},e.prototype.stopAnima=function(){this.anima.stop()},i([h(cc.Node)],e.prototype,"bullet",void 0),i([h(cc.Animation)],e.prototype,"anima",void 0),i([f],e)}(a.default);o.default=y,cc._RF.pop()},{"../../Script/Common/GlobalPool":void 0,"../../Script/GameSpecial/CollisComp":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GameOwn":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],CollisManager:[function(t,e,o){"use strict";cc._RF.push(e,"351edtf6K1K0J6mlQeAEmHr","CollisManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Script/Common/yyComponent"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.init=function(){},i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0}],CollisType:[function(t,e,o){"use strict";cc._RF.push(e,"11681H1dRxEOpKdIlUSSgFf","CollisType");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Script/Common/yyComponent"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=null,e}return r(e,t),e.prototype.init=function(){},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(){},e.prototype.collisDirec=function(t,e){var o=e.world.preAabb,n=t.world.preAabb;return o.x+o.width<n.x?"-x":o.x>n.x+n.width?"+x":o.y+o.height<n.y?"-y":o.y>n.y+n.height?"+y":void 0},e.prototype.getMapData=function(){var t={};return t.name=this.node.name,t.pos=[this.node.x,this.node.y],t.data=this._getMapData(),t},e.prototype._getMapData=function(){return{}},e.prototype.updateWidget=function(){for(var t=this.node.getComponentsInChildren(cc.Widget),e=0;e<t.length;e++)t[e].updateAlignment()},i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0}],Control:[function(t,e,o){"use strict";cc._RF.push(e,"44aabtfm4VCZJIyMGIWH26v","Control");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Script/Common/GameFlow"),a=t("../../Script/Common/PlayerData"),p=t("../../Script/Common/yyComponent"),s=t("../../Script/GameSpecial/GameEventType"),l=t("../../Script/GameSpecial/GameOwn"),u=t("../../Script/GameSpecial/GlobalEnum"),f=cc._decorator,h=f.ccclass,y=f.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rocking=null,e.rockingBar=null,e.attack=null,e.switchTouchBanner=!1,e.timeTouchBanner=0,e.lastTime=0,e.timeInter=200,e.switchShowBanner=5,e}return r(e,t),e.prototype.init=function(){this.node.active=!1},e.prototype.reset=function(){this.offEvents(),this.node.active=!1},e.prototype.setData=function(){this.onEvents(),this.node.active=!0,this.initRockingBar(),this.initTouchBanner()},e.prototype.onEvents=function(){this.rocking.on("touchstart",this.touchStart,this),this.rocking.on("touchmove",this.touchMove,this),this.rocking.on("touchend",this.touchEnd,this),this.rocking.on("touchcancel",this.touchCancel,this)},e.prototype.offEvents=function(){this.rocking.off("touchstart",this.touchStart,this),this.rocking.off("touchmove",this.touchMove,this),this.rocking.off("touchend",this.touchEnd,this),this.rocking.off("touchcancel",this.touchCancel,this)},e.prototype.touchStart=function(t){this.setRockingBar(t.getLocation())},e.prototype.touchMove=function(t){this.setRockingBar(t.getLocation())},e.prototype.touchEnd=function(){this.initRockingBar()},e.prototype.touchCancel=function(){this.initRockingBar()},e.prototype.onBtnAttack=function(){this.emit(l.default.Events.attack,{type:l.default.CollisType.player}),this.switchTouchBanner&&this.onClickTouchBanner()},e.prototype.initRockingBar=function(){this.rockingBar.setPosition(cc.v2()),this.emit(l.default.Events.move,{type:l.default.CollisType.player,vector:cc.v2()})},e.prototype.setRockingBar=function(t){var e=this.rocking.convertToNodeSpaceAR(t),o=this.rocking.width/2;e.lengthSqr()<=o*o?this.rockingBar.setPosition(e):(e=e.normalize().mul(o),this.rockingBar.setPosition(e)),this.emit(l.default.Events.move,{type:l.default.CollisType.player,vector:e})},e.prototype.initTouchBanner=function(){var t=a.default.getData("advertSwitch."+u.GlobalEnum.AdvertSwitchType.playingwuchucishu);t||(t=0),t>=c.default.getGlobalConfig(u.GlobalEnum.AdvertSwitchType.playingwuchucishu)?this.switchTouchBanner=!1:(this.switchTouchBanner=!0,this.switchShowBanner=Math.floor(3*Math.random())+4)},e.prototype.onClickTouchBanner=function(){var t=(new Date).getTime();this.timeInter>t-this.lastTime?(this.timeTouchBanner++,this.lastTime=t,console.log("comb"),this.timeTouchBanner>=this.switchShowBanner&&(this.timeTouchBanner=0,this.switchTouchBanner=!1,this.showBanner())):(this.timeTouchBanner=0,this.lastTime=t)},e.prototype.showBanner=function(){var t=this;this.emit(s.EventType.SDKEvent.showBanner,{style:{horizontal:"right"}}),setTimeout(function(){t.hideBanner()},1e3),this.emit(s.EventType.PlayerDataEvent.updatePlayerData,{type:"gameData",attribute:"advertSwitch."+u.GlobalEnum.AdvertSwitchType.playingwuchucishu,value:1,mode:"+",save:!0,emit:!0})},e.prototype.hideBanner=function(){this.emit(s.EventType.SDKEvent.hideBanner)},i([y(cc.Node)],e.prototype,"rocking",void 0),i([y(cc.Node)],e.prototype,"rockingBar",void 0),i([y(cc.Node)],e.prototype,"attack",void 0),i([h],e)}(p.default);o.default=d,cc._RF.pop()},{"../../Script/Common/GameFlow":void 0,"../../Script/Common/PlayerData":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GameOwn":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],Crit:[function(t,e,o){"use strict";cc._RF.push(e,"a1b74EcoDlNIYLnOPsa1Ijm","Crit");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Script/Common/GlobalPool"),a=t("../../Script/Common/yyComponent"),p=cc._decorator,s=p.ccclass,l=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.crit=null,e.speed=150,e}return r(e,t),e.prototype.init=function(t){this.node.active=!0,this.setStr(t.hurt)},e.prototype.reuse=function(t){this.node.active=!0,this.setStr(t.hurt)},e.prototype.unuse=function(){this.node.opacity=255,this.node.active=!1},e.prototype.setData=function(){},e.prototype.update=function(t){var e=this.node.getPosition();e.y+=t*this.speed,this.node.setPosition(e),this.node.opacity-=t*this.speed,this.node.opacity<=0&&(this.node.active=!1,c.default.put(this.node))},e.prototype.setStr=function(t){var e="";"number"==typeof t?e=Math.floor(t).toString():"string"==typeof t&&(e=t),this.crit.string=e},i([l(cc.Label)],e.prototype,"crit",void 0),i([s],e)}(a.default);o.default=u,cc._RF.pop()},{"../../Script/Common/GlobalPool":void 0,"../../Script/Common/yyComponent":void 0}],FoeAI:[function(t,e,o){"use strict";cc._RF.push(e,"7ff5cu7p6NCM7e23wBydBBn","FoeAI");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Script/Common/yyComponent"),a=t("../../Script/GameSpecial/GameOwn"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.meBodyNode=null,e.heBodyNode=null,e.vec=null,e.direc=0,e.stepTime=1,e.change=!0,e.orders=[],e.nowOrder=null,e.ordersTimes=[],e.circleTime=0,e}return r(e,t),e.prototype.onBtnAttack=function(){this.emit(a.default.Events.attack,{type:a.default.CollisType.foe})},e.prototype.onRockingMove=function(t){this.emit(a.default.Events.move,{type:a.default.CollisType.foe,vector:t})},e.prototype.init=function(){this.enabled=!1},e.prototype.reset=function(){this.offEvents(),this.enabled=!1,this.change=!0,this.stepTime=1,this.orders=[],this.nowOrder=null,this.ordersTimes=[],this.meBodyNode=null,this.heBodyNode=null},e.prototype.onEvents=function(){this.on(a.default.Events.controlAIANSWER,this.registerBody,this)},e.prototype.offEvents=function(){this.on(a.default.Events.controlAIANSWER,this.registerBody,this)},e.prototype.registerBody=function(t){"player"==t.group?this.heBodyNode=t:"foe"==t.group&&(this.meBodyNode=t)},e.prototype.setData=function(){},e.prototype.startAction=function(){this.onEvents(),this.enabled=!0},e.prototype.meadOrder=function(){var t=[this.circleOrder,this.sectorOrder,this.lineOrder,this.assaultOrder,this.standOrder];this.orders.push(this.rondomArr(t,1)),this.ordersTimes.push(this.rondomArr([1,1.5,2,2.5],1)),this.updataVec()},e.prototype.rondomArr=function(t,e){if(!(t.length<e)){for(var o=[],n=[],r=0;r<t.length;r++)n.push(t[r]);for(;o.length!=e;)if(o.length<e){var i=Math.floor(Math.random()*n.length);o.push(n.splice(i,1)[0])}else o.pop();return o}console.log("\u539f\u6570\u7ec4\u6570\u91cf\u5c11\u4e8e\u8981\u6c42\uff0c\u65e0\u6cd5\u7ec4\u5408")},e.prototype.updataVec=function(){if(!this.meBodyNode||!this.heBodyNode)return console.log("\u8bf7\u53d1\u9001\u4e8b\u4ef6GameOwn.Events.ControlAI...\u56de\u590d\u8282\u70b9\u7528\u4e8e\u4fa6\u6d4b\u6ce8\u518c"),void this.emit(a.default.Events.controlAIASK);var t=this.meBodyNode.convertToWorldSpaceAR(cc.v2(0,0)),e=this.heBodyNode.convertToWorldSpaceAR(cc.v2(0,0));this.vec=e.sub(t).normalizeSelf(),this.vec.x>0?this.direc=1:this.vec.x<0?this.direc=-1:this.direc=0},e.prototype.update=function(t){this.stepTime-=t,this.stepTime<0&&this.change&&(this.stepTime=1,this.meadOrder()),this.change&&this.orderChange(),this.nowOrder&&this.stepOrder(t),Math.random()>.8&&this.attackOrder(t)},e.prototype.orderChange=function(){this.orders.length>0&&(this.change=!1,this.nowOrder=this.orders.pop()[0]),this.ordersTimes.length>0?this.nowTime=this.ordersTimes.pop()[0]:this.nowTime=1},e.prototype.stepOrder=function(t){this.circleTime+=t,this.nowTime-=t,this.nowTime<0&&(this.change=!0,this.circleTime=0),this.nowOrder(t)},e.prototype.circleOrder=function(){var t=Math.sin(2*this.circleTime)*Math.PI,e=cc.v2(1,0).rotate(t);this.onRockingMove(e.mul(100))},e.prototype.lineOrder=function(){var t=cc.v2(this.direc,0);this.onRockingMove(t.mul(100))},e.prototype.attackOrder=function(t){Math.sin(this.circleTime)*Math.sin(this.circleTime+t)<0&&this.onBtnAttack()},e.prototype.sectorOrder=function(){var t=Math.sin(1*this.circleTime)*(Math.PI/3),e=cc.v2(this.direc,0).rotate(t);this.onRockingMove(e.mul(100))},e.prototype.assaultOrder=function(){var t;t=Math.sin(10*this.circleTime)<-.9?cc.v2(-this.direc,0):cc.v2(this.direc,0),this.onRockingMove(t.mul(100))},e.prototype.standOrder=function(){this.onRockingMove(cc.v2(0,0))},i([s],e)}(c.default));o.default=l,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameOwn":void 0}],Foe_1001:[function(t,e,o){"use strict";cc._RF.push(e,"fc1c1gSxGdKObnbR6zq+wAu","Foe_1001");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Foe_1002:[function(t,e,o){"use strict";cc._RF.push(e,"bae4cTZKmNB04LADj32BPek","Foe_1002");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Foe_1003:[function(t,e,o){"use strict";cc._RF.push(e,"d36d6ypbD1B4Z9/e70jWoxO","Foe_1003");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Foe_1004:[function(t,e,o){"use strict";cc._RF.push(e,"03305kPvJpMqKwyoVLMHWcz","Foe_1004");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Foe_1005:[function(t,e,o){"use strict";cc._RF.push(e,"91f02PUxsZFK6udgodyqewU","Foe_1005");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Foe_1006:[function(t,e,o){"use strict";cc._RF.push(e,"34ccfYmJRRDtYKYJmsayA7i","Foe_1006");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Foe_1007:[function(t,e,o){"use strict";cc._RF.push(e,"658f3dJsWZJg46m5YBeFiNM","Foe_1007");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Foe_1008:[function(t,e,o){"use strict";cc._RF.push(e,"d7256xWAqBCepplKZRMzVss","Foe_1008");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Ground:[function(t,e,o){"use strict";cc._RF.push(e,"f611384gVxDYoYylm3nrg8Q","Ground");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/CollisComp"),a=t("../../../Script/GameSpecial/GameOwn"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.default.CollisType.terrain,e}return r(e,t),i([s],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/CollisComp":void 0,"../../../Script/GameSpecial/GameOwn":void 0}],Head:[function(t,e,o){"use strict";cc._RF.push(e,"8db7c+qNQBAE7jj7oh3Ww3u","Head");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/Common/Action3dManager"),a=t("../../../Script/GameSpecial/CollisComp"),p=t("../../../Script/GameSpecial/GameOwn"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.partType=p.default.CollisPart.head,e.beInjuredYN=!1,e.invincibleTime=3,e}return r(e,t),e.prototype.init=function(){},e.prototype.setData=function(e){t.prototype.setData.call(this,e),e.type&&this.setgroup(e.type)},e.prototype.reset=function(){this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0);var t=cc.v2(this.node.scaleX>0?1:-1,1);this.node.setScale(t)},e.prototype.onBeginContact=function(t,e,o){var n=o.node.getComponent(a.default);n.partType==p.default.CollisPart.weapom&&(n.isCrit?this.beInjured(n.hurt,!0):this.beInjured(n.hurt,!1))},e.prototype.beInjured=function(t,e){e&&(t*=1.3),this.beInjuredYN||(this.beInjuredYN=!0,this.invincibleTime=.7,this.beInjuredAnima(),this.emit(p.default.Events.beInjured,{type:this.type,hurt:1.5*t,isCrit:!0}))},e.prototype.update=function(t){this.beInjuredYN&&(this.invincibleTime-=t,this.invincibleTime<=0&&(this.beInjuredYN=!1))},e.prototype.beInjuredAnima=function(){this.node.opacity=255;var t=c.default.fadeTo(.5,0),e=c.default.scaleTo(.5,2,2),o=c.default.fadeTo(.2,255),n=c.default.scaleTo(.2,1,1),r=c.default.spawn(t,e),i=c.default.spawn(o,n),a=c.default.sequence(r,i);c.default.getMng(c.ActionMngType.Level).runAction(this.node,a)},e.prototype.die=function(){var t=cc.v2(this.node.scaleX>0?2:-2,2);this.node.setScale(t)},e.prototype.died=function(){this.node.scale=1},e.prototype.toBig=function(){this.beInjuredAnima()},i([l],e)}(a.default));o.default=u,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/GameSpecial/CollisComp":void 0,"../../../Script/GameSpecial/GameOwn":void 0}],LevelCameraOld:[function(t,e,o){"use strict";cc._RF.push(e,"ade43+9RZtE46LoF1vdxOuA","LevelCameraOld");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Script/Common/yyComponent"),a=t("../../Script/Common/Action3dManager"),p=cc._decorator,s=p.ccclass,l=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.cameraNode=null,e.anchorNode=null,e}return r(e,t),e.prototype.initOriginalTransform=function(){this._originalPos=cc.v3(),this.cameraNode.getPosition(this._originalPos),this._originalEulerAngles=cc.v3(),this._originalEulerAngles.set(this.cameraNode.eulerAngles)},e.prototype.resumeOriginalTransform=function(t,e){if(void 0===t&&(t=0),!t)return this.cameraNode.setPosition(this._originalPos),void(this.cameraNode.eulerAngles=this._originalEulerAngles);this.changeCamera({duration:t,pos:this._originalPos,angle:this._originalEulerAngles,cb:e})},e.prototype.changeCamera=function(t){if(!t.duration)return t.pos&&this.cameraNode.setPosition(t.pos),t.angle&&(this.cameraNode.eulerAngles=t.angle),void(t.cb&&t.cb());var e=null,o=null;t.pos&&(e=a.default.moveTo(t.duration,t.pos)),t.angle&&(o=a.default.rotateTo(t.duration,t.angle));var n=null;e&&o?n=a.default.spawn(e,o):e?n=a.default.spawn(e):o&&(n=a.default.spawn(o));var r=a.default.getMng(a.ActionMngType.Level);if(n&&t.cb){var i=a.default.callFun(t.cb),c=a.default.sequence(n,i);r.runAction(this.cameraNode,c)}else n?r.runAction(this.cameraNode,n):t.cb&&t.cb()},e.prototype.init=function(){this.anchorNode=this.node,this.camera=this.node.getComponentInChildren(cc.Camera),this.cameraNode=this.camera.node,this.customStep=this.stepSlowFollow,this.adaptViewForWidth(),this.initOriginalTransform()},e.prototype.adaptViewForWidth=function(){var t=cc.v3();this.cameraNode.getPosition(t);var e=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z),o=cc.find("Canvas").height,n=this.camera.fov,r=e*Math.tan(.0087265*n);r=r*o/1334;var i=114.6*Math.atan2(r,e);this.camera.fov=i},e.prototype.reset=function(){this.followTarget=null,this.resumeOriginalTransform()},e.prototype.setTarget=function(t){this.followTarget=t,this.anchorNode.setPosition(this.followTarget.x,0,this.followTarget.z)},e.prototype.stepSlowFollow=function(){this.followTarget&&this.anchorNode.setPosition(this.followTarget.x,0,this.followTarget.z)},e.prototype.moveTo=function(t,e,o){var n=a.default.getMng(a.ActionMngType.Level),r=a.default.moveTo(t,e);if(r.easing(a.default.easeOut(3)),o){var i=a.default.callFun(o);n.runAction(this.node,a.default.sequence(r,i))}else n.runAction(this.node,r)},e.prototype.convertWorldToScreen=function(t){var e=this.convertWorldToCanvas(t),o=cc.find("Canvas");return e.x,o.width,e.y+=.5*o.height,e},e.prototype.convertWorldToCanvas=function(t){var e=this.convertWorldToCamera(t),o=this.camera.fov,n=e.z,r=Math.tan(.0087265*o),i=Math.abs(n*r),c=e.x/i,a=e.y/i,p=cc.find("Canvas");return a=.5*p.height*a,c=.5*p.height*c,cc.v2(c,a)},e.prototype.convertWorldToCamera=function(t){var e=this.getCameraPos(),o=this.getCameraEulerAngles(),n=o.y,r=cc.v2(t.x-e.x,t.z-e.z);r=this.rotatePos(r,n),n=o.x;var i=cc.v2(r.y,t.y-e.y);return i=this.rotatePos(i,n),cc.v3(r.x,i.y,i.x)},e.prototype.getCameraPos=function(){var t=this.node.eulerAngles.y,e=this.rotatePos(cc.v2(this.cameraNode.x,this.cameraNode.z),-t);return cc.v3(e.x+this.node.x,this.cameraNode.y+this.node.y,e.y+this.node.z)},e.prototype.getCameraEulerAngles=function(){return cc.v3(this.cameraNode.eulerAngles.x,this.node.eulerAngles.y,0)},e.prototype.rotatePos=function(t,e){var o=.017453*e,n=Math.sin(o),r=Math.cos(o),i=t.x*r-t.y*n,c=t.x*n+t.y*r;return cc.v2(i,c)},e.prototype.convertToParent=function(t,e){var o=cc.v3(e.x*t.scaleX,e.y*t.scaleY,e.z*t.scaleZ),n=cc.v2(o.x,o.z);n=this.rotatePos(n,t.eulerAngles.y);var r=cc.v2(n.y,o.y);return r=this.rotatePos(r,t.eulerAngles.x),o.x=n.x+t.x,o.y=r.y+t.y,o.z=r.x+t.z,o},e.prototype.convertToNodePos=function(t,e,o){var n=cc.v3();for(n.set(o);e&&e.is3DNode&&e!=t;)n=this.convertToParent(e,n),e=e.parent;return n},i([l(cc.Camera)],e.prototype,"camera",void 0),i([l(cc.Node)],e.prototype,"cameraNode",void 0),i([l(cc.Node)],e.prototype,"anchorNode",void 0),i([s],e)}(c.default);o.default=u,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/yyComponent":void 0}],LevelCamera:[function(t,e,o){"use strict";cc._RF.push(e,"f48aftFISdLI7XFeOhvOx8H","LevelCamera");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/Common/Action3dManager"),a=t("../../../Script/Common/yyComponent"),p=t("../../../Script/GameSpecial/GameEventType"),s=cc._decorator,l=s.ccclass,u=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.viewRect=null,e.mainObject=null,e.minPoint=cc.v2(),e.maxPoint=cc.v2(),e.cameraBox=cc.v2(),e}return r(e,t),e.prototype.init=function(){this.node.active=!0,this.onEvents(),this.initCameraBox()},e.prototype.reset=function(){this.node.active=!1},e.prototype.setData=function(t){this.viewRect=cc.rect(0,0,t[0]/this.camera.zoomRatio,t[1]/this.camera.zoomRatio)},e.prototype.cameraStart=function(){console.log("\u76f8\u673a\u5f00\u59cb\u8fd0\u884c"),this.node.active=!0,this.resetMO()},e.prototype.customUpdate=function(){this.resetMO()},e.prototype.onEvents=function(){this.on(p.EventType.CameraEvent.registerTarget,this.refisterTarget,this),this.on(p.EventType.CameraEvent.viewLimit,this.viewLimit,this)},e.prototype.offEvents=function(){this.off(p.EventType.CameraEvent.registerTarget,this.refisterTarget,this),this.off(p.EventType.CameraEvent.viewLimit,this.viewLimit,this)},e.prototype.refisterTarget=function(t){this.mainObject&&console.warn("\u8b66\u544a\uff01\u5c06\u8981\u66f4\u6362\u76f8\u673a\u89c2\u5bdf\u5bf9\u8c61\u3002"),this.mainObject=t,this.resetMO()},e.prototype.viewLimit=function(t){this.minPoint=cc.v2((t.width-this.viewRect.width)/-2,(t.height-this.viewRect.height)/-2),this.minPoint.addSelf(cc.v2(t.x,t.y)),this.maxPoint=cc.v2((t.width-this.viewRect.width)/2,(t.height-this.viewRect.height)/2),this.maxPoint.addSelf(cc.v2(t.x,t.y))},e.prototype.resetMO=function(){var t=this.getTargetPosi();t=this.amendPathway(t);var e=c.default.moveTo(.2,t.x,this.node.y);c.default.getMng(c.ActionMngType.Level).runAction(this.node,e)},e.prototype.getTargetPosi=function(){var t=cc.v2(0,0);if(this.mainObject){var e=this.mainObject.convertToWorldSpaceAR(t);t=this.node.parent.convertToNodeSpaceAR(e)}return t},e.prototype.amendPathway=function(t){var e=cc.v2(t.x,t.y);return t.x<this.minPoint.x?e.x=this.minPoint.x:t.x>this.maxPoint.x&&(e.x=this.maxPoint.x),t.y<this.minPoint.y?e.y=this.minPoint.y:t.y>this.maxPoint.y&&(e.y=this.maxPoint.y),e},e.prototype.initCameraBox=function(){this.cameraBox.x=this.node.parent.width/this.camera.zoomRatio,this.cameraBox.y=this.node.parent.height/this.camera.zoomRatio},e.prototype.boxforWin=function(t){var e=this.node.position,o=t.sub(e),n=cc.v2(0,0);if(Math.abs(o.x)>this.cameraBox.x/5){var r=Math.abs(o.x)-this.cameraBox.x/5;o.x<0?n.x=-r:n.x=r}return Math.abs(o.y)>this.cameraBox.y/5&&(r=Math.abs(o.y)-this.cameraBox.y/5,o.y<0?n.y=-r:n.y=r),n},i([u(cc.Camera)],e.prototype,"camera",void 0),i([l],e)}(a.default);o.default=f,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/yyComponent":void 0,"../../../Script/GameSpecial/GameEventType":void 0}],LevelManager:[function(t,e,o){"use strict";cc._RF.push(e,"8a3a1r8py9NEZq3f4jOfVcp","LevelManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Script/Common/yyComponent"),a=t("../../Script/GameSpecial/GameEventType"),p=t("../../Script/Common/Action3dManager"),s=t("../../Script/GameSpecial/GlobalEnum"),l=cc._decorator,u=l.ccclass,f=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pauseCount=0,e.levelLayer=null,e.actMng=null,e.nextState=null,e.needLoadCount=0,e}return r(e,t),e.prototype.init=function(){this.initComponents(),this.initCustomUpdateState(),this.initLevelTimer(),this.initActMng(),this.initEnterLobbyState(),this.loadLobbyItems(),this.registAllCustomUpdate(),this.onEvents(),cc.warn("\u5173\u5361\u7ba1\u7406\u5668\u7684init\u9700\u7531\u5b50\u7c7b\u5b9e\u73b0")},e.prototype.registAllCustomUpdate=function(){cc.warn("\u5173\u5361\u7ba1\u7406\u5668\u7684registAllCustomUpdate\u9700\u7531\u5b50\u7c7b\u5b9e\u73b0"),this.registCustomUpdate(s.GlobalEnum.LevelState.lobby,this.stepLobby),this.registCustomUpdate(s.GlobalEnum.LevelState.win,this.stepLevelWin),this.registCustomUpdate(s.GlobalEnum.LevelState.lose,this.stepLevelLose),this.registCustomUpdate(s.GlobalEnum.LevelState.playing,this.stepLevelPlaying)},e.prototype.onEvents=function(){cc.warn("\u5173\u5361\u7ba1\u7406\u5668\u7684onEvents\u9700\u7531\u5b50\u7c7b\u5b9e\u73b0"),this.on(a.EventType.DirectorEvent.pauseLevel,this.pause,this),this.on(a.EventType.DirectorEvent.resumeLevel,this.resume,this)},e.prototype.loadLobbyItems=function(){},e.prototype.reset=function(){this.resetCustomUpdateState(),this.resetLevelTimer()},Object.defineProperty(e.prototype,"paused",{get:function(){return this.isPaused},enumerable:!1,configurable:!0}),e.prototype.pause=function(t){void 0===t&&(t=1),this.pauseCount+=t,this.isPaused=!0},e.prototype.resume=function(t){void 0===t&&(t=1),-1===t?(this.pauseCount=0,this.isPaused=!1):(this.pauseCount-=t,this.pauseCount<=0&&(this.pauseCount=0,this.isPaused=!1))},e.prototype.initLevelTimer=function(){this.elapseTimer=0,this.isPaused=!1,this.pauseCount=0},e.prototype.resetLevelTimer=function(){this.elapseTimer=0,this.isPaused=!1,this.pauseCount=0},e.prototype.customUpdate=function(){if(!this.isPaused){var t=Date.now(),e=t-this.lastFrameTime;this.lastFrameTime=t,e>34&&(e=34),e*=.001,this.elapseTimer+=e,this.customStep&&this.customStep(e)}},e.prototype.running=function(t){this.isPaused||(this.updateAction(t),this.customStep&&this.customStep(t))},e.prototype.getLevelData=function(){return this.levelData},e.prototype.initActMng=function(){this.actMng=p.default.getMng(p.ActionMngType.Level)},e.prototype.updateAction=function(t){this.actMng.update(t)},e.prototype.enterLevel=function(t){this.node.active=!0,this.needLoadCount<=0?(this.reset(),this.levelData=t,this._enterLevel()):(this.levelData=t,this.nextState=s.GlobalEnum.LevelState.playing)},e.prototype._enterLevel=function(){this.setData(),this.startLevel()},e.prototype.startLevel=function(){this.enterCustomUpdateState(s.GlobalEnum.LevelState.playing),this.lastFrameTime=Date.now(),this.emit(a.EventType.AudioEvent.playBGM,s.GlobalEnum.AudioClip.BGM,!0);var t=this.levelData.lv;void 0===t&&(t=this.levelData.id),this.emit(a.EventType.ALDEvent.levelStart,t),this.emit(a.EventType.UIEvent.showTip,"\u5173\u5361\u5f00\u59cb\uff01")},e.prototype.setTeachCmp=function(){},e.prototype.exit=function(){this.reset()},e.prototype.initEnterLobbyState=function(){this.nextState=null,this.needLoadCount=0,console.warn("\u8fdb\u5165\u9996\u9875\u5fc5\u987b\u52a0\u8f7d\u7684\u9884\u5236\u4ef6\u6570\u91cf\u4e3a\uff1a",this.needLoadCount)},e.prototype.enterLobby=function(){this.needLoadCount<=0?(this.reset(),this.setEnterLobbyData(),this.enterCustomUpdateState(s.GlobalEnum.LevelState.lobby)):this.nextState=s.GlobalEnum.LevelState.lobby},e.prototype.setEnterLobbyData=function(){console.log("\u8bbe\u7f6e\u5173\u5361\u573a\u666f\u4f5c\u4e3a\u9996\u9875\u80cc\u666f\u65f6\u7684\u6570\u636e\uff0c\u7531\u5b50\u7c7b\u5b9e\u73b0")},e.prototype.loadLobbyItemFinish=function(){if(this.needLoadCount--,this.needLoadCount<=0){switch(this.nextState){case s.GlobalEnum.LevelState.lobby:this.setEnterLobbyData(),this.enterCustomUpdateState(s.GlobalEnum.LevelState.lobby);break;case s.GlobalEnum.LevelState.playing:this._enterLevel()}this.emit(a.EventType.LevelEvent.levelSceneLoadFinish)}},e.prototype.stepLevelPlaying=function(){},e.prototype.stepLevelWin=function(){},e.prototype.stepLevelLose=function(){},e.prototype.stepLobby=function(){},e.prototype.win=function(t){this.enterCustomUpdateState(s.GlobalEnum.LevelState.win),this.emit(a.EventType.CtrlEvent.ctrlEnd),this.emit(a.EventType.DirectorEvent.playerWin,t),this.emit(a.EventType.AudioEvent.stopBGM),this.emit(a.EventType.AudioEvent.playEffect,s.GlobalEnum.AudioClip.win);var e=this.levelData.lv;void 0===e&&(e=this.levelData.id),this.emit(a.EventType.ALDEvent.levelWin,e)},e.prototype.lose=function(t){this.enterCustomUpdateState(s.GlobalEnum.LevelState.lose),this.emit(a.EventType.CtrlEvent.ctrlEnd),this.emit(a.EventType.DirectorEvent.playerLose,t),this.emit(a.EventType.AudioEvent.stopBGM),this.emit(a.EventType.AudioEvent.playEffect,s.GlobalEnum.AudioClip.lose);var e=this.levelData.lv;void 0===e&&(e=this.levelData.id),this.emit(a.EventType.ALDEvent.levelLose,e)},i([f(cc.Node)],e.prototype,"levelLayer",void 0),i([u],e)}(c.default);o.default=h,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],LevelUI:[function(t,e,o){"use strict";cc._RF.push(e,"c33d5gQFEpP0ZvDs0j2j8ZH","LevelUI");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Script/Common/Action3dManager"),a=t("../../Script/Common/Loader"),p=t("../../Script/Common/yyComponent"),s=t("../../Script/GameSpecial/GameEventType"),l=t("../../Script/GameSpecial/GameOwn"),u=t("../../Script/GameSpecial/GlobalEnum"),f=t("./Control"),h=t("./FoeAI"),y=cc._decorator,d=y.ccclass,v=y.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelData=null,e.ready=null,e.go=null,e.Ko=null,e.K_Oed=!1,e.lv=null,e.lifeP1=null,e.energyP1=null,e.lifeP2=null,e.energyP2=null,e.totalLength=0,e.playerSpr=null,e.foeSpr=null,e.control=null,e.foeAI=null,e}return r(e,t),e.prototype.init=function(){this.initProgressBar(),this.onEvents(),this.resetBar(),this.node.active=!1,this.control.init(),this.foeAI.init()},e.prototype.reset=function(){this.offEvents(),this.resetBar(),this.node.active=!1,this.control.reset(),this.foeAI.reset(),this.K_Oed=!1},e.prototype.setData=function(t){this.onEvents(),this.node.active=!1,this.levelData=t,this.setUI()},e.prototype.enter=function(t){this.node.active=!0,this.setwidget(t),this.readyGo(),this.K_Oed=!1},e.prototype.setwidget=function(t){var e=this.node.getComponent(cc.Widget);e.target=t,e.updateAlignment()},e.prototype.readyGo=function(){this.emit(s.EventType.AudioEvent.playEffect,u.GlobalEnum.AudioClip.readyGo),this.ready.active=!0,this.go.active=!1,this.ready.setPosition(cc.v2(2e3,0));var t=c.default.moveTo(.2,0,0),e=c.default.delay(.5),o=c.default.scaleTo(.3,1.5,1.5),n=c.default.callFun(this.showGo,this),r=c.default.sequence(t,e,o,n);c.default.getMng(c.ActionMngType.UI).runAction(this.ready,r)},e.prototype.showGo=function(){this.ready.active=!1,this.go.active=!0,this.go.setScale(cc.v2(1.5,1.5));var t=c.default.scaleTo(.5,1,1),e=c.default.callFun(this.gameStart,this),o=c.default.sequence(t,e);c.default.getMng(c.ActionMngType.UI).runAction(this.go,o)},e.prototype.gameStart=function(){this.go.active=!1,this.control.setData(),this.foeAI.startAction()},e.prototype.onEvents=function(){this.on(l.default.Events.setBar,this.setBar,this),this.on(l.default.Events.K_O,this.K_O,this)},e.prototype.offEvents=function(){this.off(l.default.Events.setBar,this.setBar,this),this.off(l.default.Events.K_O,this.K_O,this)},e.prototype.K_O=function(){if(!this.K_Oed){this.K_Oed=!0,this.control.reset(),this.foeAI.reset(),this.emit(s.EventType.AudioEvent.playEffect,u.GlobalEnum.AudioClip.ko),this.Ko.active=!0,this.Ko.setScale(cc.v2(2,2));var t=c.default.scaleTo(1,1,1),e=c.default.callFun(this.gameEnd,this),o=c.default.sequence(t,e);c.default.getMng(c.ActionMngType.UI).runAction(this.Ko,o)}},e.prototype.gameEnd=function(){this.Ko.active=!1},e.prototype.setLv=function(t){this.lv.string=""+t},e.prototype.setUI=function(){this.setSpr(),this.resetBar()},e.prototype.setBar=function(t){t.type==l.default.CollisType.player?"life"==t.barType?this.onUpdateProgress(this.lifeP1,t.rate):"energy"==t.barType&&this.onUpdateProgress(this.energyP1,t.rate):t.type==l.default.CollisType.foe&&("life"==t.barType?this.onUpdateProgress(this.lifeP2,t.rate):"energy"==t.barType&&this.onUpdateProgress(this.energyP2,t.rate))},e.prototype.initProgressBar=function(){0==this.totalLength&&(this.totalLength=this.lifeP1.getComponent(cc.Sprite).spriteFrame.getOriginalSize().width)},e.prototype.onUpdateProgress=function(t,e){t.width=this.totalLength*e},e.prototype.resetBar=function(){this.onUpdateProgress(this.lifeP1,1),this.onUpdateProgress(this.energyP1,0),this.onUpdateProgress(this.lifeP2,1),this.onUpdateProgress(this.energyP2,0)},e.prototype.setSpr=function(){var t=this,e=this.levelData.data.playerData.skin+"_2",o=this.levelData.data.foeData.skin+"_2";a.default.loadBundle("LevelScene",function(){a.default.loadBundleRes("LevelScene","Image/role/"+e,function(e){t.playerSpr.spriteFrame=e,a.default.loadBundleRes("LevelScene","Image/role/"+o,function(e){t.foeSpr.spriteFrame=e},cc.SpriteFrame,!1)},cc.SpriteFrame,!1)},!1,!1)},i([v(cc.Node)],e.prototype,"ready",void 0),i([v(cc.Node)],e.prototype,"go",void 0),i([v(cc.Node)],e.prototype,"Ko",void 0),i([v(cc.Label)],e.prototype,"lv",void 0),i([v(cc.Node)],e.prototype,"lifeP1",void 0),i([v(cc.Node)],e.prototype,"energyP1",void 0),i([v(cc.Node)],e.prototype,"lifeP2",void 0),i([v(cc.Node)],e.prototype,"energyP2",void 0),i([v(cc.Sprite)],e.prototype,"playerSpr",void 0),i([v(cc.Sprite)],e.prototype,"foeSpr",void 0),i([v(f.default)],e.prototype,"control",void 0),i([v(h.default)],e.prototype,"foeAI",void 0),i([d],e)}(p.default);o.default=_,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/Loader":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GameOwn":void 0,"../../Script/GameSpecial/GlobalEnum":void 0,"./Control":"Control","./FoeAI":"FoeAI"}],Life:[function(t,e,o){"use strict";cc._RF.push(e,"d7680tNixxN1IkC2+530w1t","Life");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/Common/GlobalPool"),a=t("../../../Script/GameSpecial/GameEventType"),p=t("../../../Script/GameSpecial/GlobalEnum"),s=t("../CollisType"),l=cc._decorator,u=l.ccclass,f=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.prop,e.value=1,e.used=!1,e.box=null,e}return r(e,t),e.prototype.init=function(){this.node.active=!0,this.used=!1,this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){this.node.active=!0,this.used=!1},e.prototype.unuse=function(){this.node.active=!1,this.used=!1},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),t.value&&(this.value=t.value),this.resetCollisDirecs()},e.prototype.onCollisionEnter=function(t){if(!this.used){var e=t.node.getComponent(s.default);e.type==p.GlobalEnum.CollisType.palyer&&(this.used=!0,this.lifeGet(),e.lifeGet&&e.lifeGet(this.value))}},e.prototype.lifeGet=function(){this.emit(a.EventType.AudioEvent.playEffect,p.GlobalEnum.AudioClip.Life),this.node.active=!1,c.default.put(this.node)},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t.value=this.value,t},i([f({type:cc.Integer,range:[1,1e3]})],e.prototype,"value",void 0),i([u],e)}(s.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],MainSceneScr:[function(t,e,o){"use strict";cc._RF.push(e,"8346bhI5o5Iioi4K+SEkFA7","MainSceneScr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../MainScene/Script/Role"),a=t("../../Script/Common/GameData"),p=t("../../Script/Common/GlobalPool"),s=t("../../Script/Common/yyComponent"),l=t("../../Script/GameSpecial/GameEventType"),u=t("../../Script/GameSpecial/GameOwn"),f=t("../../Script/GameSpecial/GlobalEnum"),h=t("./LevelUI"),y=cc._decorator,d=y.ccclass,v=y.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelUI=null,e.lv=0,e.role=null,e.player=null,e.foe=null,e}return r(e,t),e.prototype.init=function(){this.onEvents(),this.levelUI.init()},e.prototype.reset=function(){this.offEvents(),this.levelUI.reset(),this.player&&(this.player.node.destroy(),this.player=null),this.foe&&(this.foe.node.destroy(),this.foe=null)},e.prototype.setData=function(t){this.onEvents(),t.data&&(this.lv=t.lv);var e=this.node.getChildByName("bg");this.emit(l.EventType.CameraEvent.viewLimit,cc.rect(0,0,e.width,e.height)),this.levelUI.setData(t),this.loadRoles(t.data),this.enter()},e.prototype.enter=function(){this.player&&this.foe&&(this.customStep=this.updateStep,this.levelUI.enter(this.node.parent)),console.log("\u8fdb\u5165\u5173\u5361")},e.prototype.onEvents=function(){this.on(l.EventType.PlayerEvent.death,this.playerDie,this),this.on(l.EventType.PlayerEvent.foeDeath,this.foeDie,this),this.on(u.default.Events.move,this.move,this),this.on(u.default.Events.attack,this.attack,this),this.on(l.EventType.GameUIEvent.initTouchBanner,this.initTouchBanner,this)},e.prototype.offEvents=function(){this.off(l.EventType.PlayerEvent.death,this.playerDie,this),this.off(l.EventType.PlayerEvent.foeDeath,this.foeDie,this),this.off(u.default.Events.move,this.move,this),this.off(u.default.Events.attack,this.attack,this),this.off(l.EventType.GameUIEvent.initTouchBanner,this.initTouchBanner,this)},e.prototype.loadRoles=function(t){this._loadPlayer(t.playerData.skin,t.playerData.weapom),this._loadFoe(t.foeData.skin,t.foeData.weapom)},e.prototype._loadPlayer=function(t,e){var o="Role_"+t,n=p.default.get(o);this.role.addChild(n),n.setPosition(cc.v2(-500,10)),this.emit(l.EventType.CameraEvent.registerTarget,n.getChildByName("body")),this.player&&this.player.node&&p.default.put(this.player.node),this.player=n.getComponent(c.default);var r=a.default.getData(f.GlobalEnum.GameDataType.skinData,t);1==this.lv&&(r.baseHP*=2,r.baseATK*=2),this.player.setData({type:u.default.CollisType.player,skinData:r}),this.player.setWeapom(e)},e.prototype._loadFoe=function(t,e){var o="Foe_"+t,n=p.default.get(o);this.role.addChild(n),n.setPosition(cc.v2(500,10)),this.foe&&this.foe.node&&p.default.put(this.foe.node),this.foe=n.getComponent(c.default);var r=a.default.getData(f.GlobalEnum.GameDataType.skinData,t);this.foe.setData({type:u.default.CollisType.foe,skinData:r}),this.foe.setWeapom(e)},e.prototype.move=function(t){t.type==u.default.CollisType.player?t.vector?this.player.setVector(t.vector):this.player.setVector(cc.v2()):t.type==u.default.CollisType.foe&&(t.vector?this.foe.setVector(t.vector):this.foe.setVector(cc.v2()))},e.prototype.moveBody=function(t,e){if(e.len()>80){var o=e.x>0?1:-1;t.jumpMove(o)}},e.prototype.attack=function(t){t.type==u.default.CollisType.player?this.player.attack():t.type==u.default.CollisType.foe&&this.foe.attack()},e.prototype.updateStep=function(t){this.player.customUpdate(t),this.foe.customUpdate(t)},e.prototype.playerDie=function(){this.emit(l.EventType.LevelEvent.levelLose),this.customStep=this.stepEmpty,this.reset()},e.prototype.foeDie=function(){this.offEvents(),this.levelUI.reset(),this.customStep=this.stepEmpty,this.nextFlow()},e.prototype.nextFlow=function(){this.emit(l.EventType.LevelEvent.levelWin),this.reset()},e.prototype.initTouchBanner=function(){},i([v(h.default)],e.prototype,"levelUI",void 0),i([v(cc.Node)],e.prototype,"role",void 0),i([d],e)}(s.default);o.default=_,cc._RF.pop()},{"../../MainScene/Script/Role":void 0,"../../Script/Common/GameData":void 0,"../../Script/Common/GlobalPool":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GameOwn":void 0,"../../Script/GameSpecial/GlobalEnum":void 0,"./LevelUI":"LevelUI"}],MyLevelManager:[function(t,e,o){"use strict";cc._RF.push(e,"96965tMQ3pGBpQf/2vNsU/8","MyLevelManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./LevelManager"),a=t("../../Script/GameSpecial/GlobalEnum"),p=t("../../Script/GameSpecial/GameEventType"),s=t("../../Script/Common/Loader"),l=t("./other/LevelCamera"),u=t("../../Script/Common/Action3dManager"),f=cc._decorator,h=f.ccclass,y=f.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.mainSceneScr=null,e}return r(e,t),e.prototype.init=function(){this.initCamera(),this.initCustomUpdateState(),this.initLevelTimer(),this.initActMng(),this.initEnterLobbyState(),this.loadLobbyItems(),this.registAllCustomUpdate(),this.onEvents(),this.loadMainScene()},e.prototype.registAllCustomUpdate=function(){this.registCustomUpdate(a.GlobalEnum.LevelState.playing,this.stepLevelPlaying),this.registCustomUpdate(a.GlobalEnum.LevelState.win,this.stepLevelWin),this.registCustomUpdate(a.GlobalEnum.LevelState.lose,this.stepLevelLose),this.registCustomUpdate(a.GlobalEnum.LevelState.lobby,this.stepLobby)},e.prototype.onEvents=function(){this.on(p.EventType.DirectorEvent.pauseLevel,this.pause,this),this.on(p.EventType.DirectorEvent.resumeLevel,this.resume,this),this.on(p.EventType.LevelEvent.levelLose,this.onLevelLose,this),this.on(p.EventType.LevelEvent.levelWin,this.onLevelWin,this)},e.prototype.loadLobbyItems=function(){},e.prototype.reset=function(){this.resetCamera(),this.resetCustomUpdateState(),this.resetLevelTimer(),this.mainSceneScr&&this.mainSceneScr.reset()},e.prototype.loadMainScene=function(t){var e=this;s.default.loadBundleRes("LevelScene","Prefab/MainScene",function(o){if(!e.mainSceneScr){var n=cc.instantiate(o);e.node.getChildByName("MainScene").addChild(n),e.mainSceneScr=n.getComponent("MainSceneScr"),e.mainSceneScr.init()}t&&setTimeout(function(){t()},0)},cc.Prefab,!0)},e.prototype.enterLevel=function(t){this.node.active=!0,this.needLoadCount<=0?(this.reset(),this.levelData=t,this.loadScene()):(this.levelData=t,this.nextState=a.GlobalEnum.LevelState.playing)},e.prototype.loadScene=function(){this.mainSceneScr?this._enterLevel():this.loadMainScene(this._enterLevel.bind(this))},e.prototype._enterLevel=function(){this.setData(),this.startLevel(),this.camera.cameraStart()},e.prototype.setData=function(){this.camera.setData([this.node.width,this.node.height]),this.mainSceneScr.setData(this.levelData)},e.prototype.setTeachCmp=function(){},e.prototype.setEnterLobbyData=function(){},e.prototype.initPlayer=function(){},e.prototype.resetPlayer=function(){},e.prototype.setPlayer=function(){},e.prototype.updatePlayer=function(){},e.prototype.initCamera=function(){this.camera.init()},e.prototype.resetCamera=function(){this.camera.reset()},e.prototype.updateCamera=function(t){this.camera.customUpdate(t)},e.prototype.stepLevelPlaying=function(t){this.updateCamera(t),this.mainSceneScr.customUpdate(t),u.default.getMng(u.ActionMngType.Level).update(t)},e.prototype.stepLevelWin=function(){},e.prototype.getWinData=function(){var t={};return t.lv=this.levelData.lv,t},e.prototype.stepLevelLose=function(){},e.prototype.stepLobby=function(){},e.prototype.onLevelWin=function(){this.win({lv:this.levelData.lv})},e.prototype.onLevelLose=function(){this.lose()},i([y(l.default)],e.prototype,"camera",void 0),i([h],e)}(c.default);o.default=d,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/Loader":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0,"./LevelManager":"LevelManager","./other/LevelCamera":"LevelCamera"}],Role_1001:[function(t,e,o){"use strict";cc._RF.push(e,"e5e1fEaaOlBxo3syikXMFrt","Role_1001");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Role_1002:[function(t,e,o){"use strict";cc._RF.push(e,"96592EFvv1D2YBTJ6b/CJft","Role_1002");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Role_1003:[function(t,e,o){"use strict";cc._RF.push(e,"79ba1Q/8X9LYoZBgAkLU+a9","Role_1003");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Role_1004:[function(t,e,o){"use strict";cc._RF.push(e,"774de6M18BIr411nRmfA5rw","Role_1004");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Role_1005:[function(t,e,o){"use strict";cc._RF.push(e,"eb46ebVdIBG9boYfLKJD0+e","Role_1005");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Role_1006:[function(t,e,o){"use strict";cc._RF.push(e,"294b3LfaftJwofmIUfwRLxD","Role_1006");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Role_1007:[function(t,e,o){"use strict";cc._RF.push(e,"f77edpfX7lA0Zso3VFvlTl7","Role_1007");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Role_1008:[function(t,e,o){"use strict";cc._RF.push(e,"c84b4GmctNGd4Mj34H+YPlJ","Role_1008");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../MainScene/Script/Role"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([p],e)}(c.default));o.default=s,cc._RF.pop()},{"../../../MainScene/Script/Role":void 0}],Weapom_2001:[function(t,e,o){"use strict";cc._RF.push(e,"4a0d0iSXQNOjbjAB1t6JTIX","Weapom_2001");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.RangedWeapons,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2002:[function(t,e,o){"use strict";cc._RF.push(e,"4b4dbjAW71CyZBHXNBmnUoB","Weapom_2002");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.closeInWeapom,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2003:[function(t,e,o){"use strict";cc._RF.push(e,"381ddYpIWxJZqFYj8Z1PA1r","Weapom_2003");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.RangedWeapons,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2004:[function(t,e,o){"use strict";cc._RF.push(e,"2ec88cRGatEaYh/se4VmuzO","Weapom_2004");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.closeInWeapom,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2005:[function(t,e,o){"use strict";cc._RF.push(e,"dab29lbzRtEGKxEOcfY3mbp","Weapom_2005");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.RangedWeapons,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2006:[function(t,e,o){"use strict";cc._RF.push(e,"f43862J/JtEz7fPQlOY5jzI","Weapom_2006");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.closeInWeapom,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2007:[function(t,e,o){"use strict";cc._RF.push(e,"b9f3dWy6ZROC71du5t+yrNa","Weapom_2007");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.RangedWeapons,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2008:[function(t,e,o){"use strict";cc._RF.push(e,"0b591siKGJJrrNzNZhK+CtI","Weapom_2008");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.closeInWeapom,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2009:[function(t,e,o){"use strict";cc._RF.push(e,"f93264/i+RJ5LtBY+hPSqzd","Weapom_2009");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.RangedWeapons,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2010:[function(t,e,o){"use strict";cc._RF.push(e,"f628cgGUZdDWZCpn5ZtlQo1","Weapom_2010");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.closeInWeapom,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2011:[function(t,e,o){"use strict";cc._RF.push(e,"3bb02F4Ud1NoIvZD3ciiS0U","Weapom_2011");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.RangedWeapons,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2012:[function(t,e,o){"use strict";cc._RF.push(e,"84f53hBFKpIXooY0xyGD59J","Weapom_2012");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.closeInWeapom,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2013:[function(t,e,o){"use strict";cc._RF.push(e,"50b0a9kHUlNn6oYKcCII6q9","Weapom_2013");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.closeInWeapom,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom_2014:[function(t,e,o){"use strict";cc._RF.push(e,"166acSOeZRL84xaWi4IJg4S","Weapom_2014");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/GameSpecial/GameOwn"),a=t("./Weapom"),p=cc._decorator,s=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weapomType=c.default.WeapomType.closeInWeapom,e}return r(e,t),i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GameOwn":void 0,"./Weapom":"Weapom"}],Weapom:[function(t,e,o){"use strict";cc._RF.push(e,"500781cCXNI5olcGIHMUmtC","Weapom");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Script/Common/Action3dManager"),a=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/CollisComp"),s=t("../../../Script/GameSpecial/GameOwn"),l=cc._decorator,u=l.ccclass,f=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.partType=s.default.CollisPart.weapom,e.hurt=10,e.rigbody=null,e.muzzle=null,e.weapomType=s.default.WeapomType.closeInWeapom,e.isBig=!1,e.isCrit=!1,e}return r(e,t),e.prototype.init=function(){this.rigbody=this.node.getComponent(cc.RigidBody),this.weapomType==s.default.WeapomType.RangedWeapons&&(this.muzzle=this.node.getChildByName("muzzle"))},e.prototype.reuse=function(){this.rigbody=this.node.getComponent(cc.RigidBody)},e.prototype.unuse=function(){this.rigbody.linearVelocity=cc.v2(0,0),c.default.getMng(c.ActionMngType.Level).stopAllActions(this.node)},e.prototype.setData=function(e){t.prototype.setData.call(this,e),e.type&&this.setgroup(e.type),"UI"==e.type||"default"==e.type?this.rigbody.type=cc.RigidBodyType.Static:this.rigbody.type=cc.RigidBodyType.Dynamic},e.prototype.setJoint=function(t){var e=this.node.getComponent(cc.WeldJoint);e.connectedBody=t,e.connectedAnchor=cc.v2(0,0),e.apply()},e.prototype.employ=function(t){this.hurt=t.baseATK},e.prototype.onBeginContact=function(){},e.prototype.onEndContact=function(){},e.prototype.setLineVec=function(t){this.rigbody.linearVelocity=t.mul(50)},e.prototype.attack=function(){this.weapomType==s.default.WeapomType.closeInWeapom?this.largen():this.weapomType==s.default.WeapomType.RangedWeapons&&this.shot()},e.prototype.largen=function(){var t=this;if(!this.isBig){this.isBig=!0,this.isCrit=!0;var e=c.default.scaleTo(.1,2,2),o=c.default.scaleTo(1.5,2,2),n=c.default.scaleTo(.2,1,1),r=c.default.callFun(function(){t.isBig=!1,t.isCrit=!1}),i=c.default.sequence(e,o,n,r);c.default.getMng(c.ActionMngType.Level).runAction(this.node,i)}},e.prototype.shot=function(){var t=a.default.get("Bullet",{type:this.type,hurt:this.hurt}),e=this.muzzle.convertToWorldSpaceAR(cc.v2(0,0)),o=this.muzzle.convertToWorldSpaceAR(cc.v2(1,0)).sub(e);t.parent=this.muzzle,t.setPosition(cc.v2(0,0)),t.getComponent(cc.RigidBody).linearVelocity=o.mul(1e3),this.rigbody.linearVelocity=this.rigbody.linearVelocity.sub(o.mul(500))},i([u],e)}(p.default));o.default=f,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/CollisComp":void 0,"../../../Script/GameSpecial/GameOwn":void 0}]},{},["Bullet","CollisManager","CollisType","Control","Crit","FoeAI","LevelCameraOld","LevelManager","LevelUI","MainSceneScr","MyLevelManager","Life","Weapom","Weapom_2001","Weapom_2002","Weapom_2003","Weapom_2004","Weapom_2005","Weapom_2006","Weapom_2007","Weapom_2008","Weapom_2009","Weapom_2010","Weapom_2011","Weapom_2012","Weapom_2013","Weapom_2014","Ground","LevelCamera","ArmAndHand","Body","Foe_1001","Foe_1002","Foe_1003","Foe_1004","Foe_1005","Foe_1006","Foe_1007","Foe_1008","Head","Role_1001","Role_1002","Role_1003","Role_1004","Role_1005","Role_1006","Role_1007","Role_1008"]);